var m=Object.defineProperty;var p=(t,e,i)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var l=(t,e,i)=>p(t,typeof e!="symbol"?e+"":e,i);import{j as r}from"./Accordion-B0xeqd_u.js";import"./JSEncrypt-D3I3x59l.js";import{r as d}from"./index-B80Lgev0.js";import{c as u}from"./ReactAppend-Da6mr3zD.js";import{C as f}from"./CreateReactScript-D3qb0hcY.js";import{T as x,R as h}from"./Table-BkcvNzc5.js";import"./main-DtAlmsP1.js";import{B as g}from"./BusinessIWorkCard-BsMRBA8t.js";import{A as R}from"./Adminto-CM-4Vh3D.js";import"./TippyButton-DN-nzi_f.js";import"./server.browser-bIzDeQez.js";import{D as j}from"./DxButton-CsjWvhyj.js";import"./index-STwnHZb6.js";import"./index.esm-X2U-7gJn.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./index-BK7CmI7H.js";import"./Logout-C-aUOij0.js";import"./tippy-react.esm-PO7soYrD.js";import"./WhatsAppModal-BYoU6ug0.js";import"./SurveyStep-C1GxQ1hd.js";class C extends g{constructor(){super(...arguments);l(this,"path","team")}}const c=new C,b=({session:t})=>{const e=d.useRef(),i=async a=>{const{isConfirmed:s}=await Swal.fire({title:"¿Estás seguro?",text:"No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar"});!s||!await c.delete(a)||$(e.current).dxDataGrid("instance").refresh()};return r.jsx(r.Fragment,{children:r.jsx(x,{gridRef:e,title:"Colaboradores",rest:c,toolBar:a=>{a.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(e.current).dxDataGrid("instance").refresh()}})},pageSize:25,columns:[{dataField:"business.name",caption:"Empresa"},{dataField:"service.name",caption:"Servicio"},{dataField:"user.name",caption:"Usuario",width:"500px",cellTemplate:(a,{data:s})=>{const o=s.user.name+" "+s.user.lastname;h(a,r.jsxs("div",{className:"d-flex gap-2",children:[r.jsx("img",{className:"avatar-sm rounded-circle",src:`/api/profile/thumbnail/${s.user.relative_id}`,onError:n=>{n.target.onerror=null,n.target.src="/assets/img/user-404.svg"},style:{aspectRatio:1},alt:o}),r.jsxs("div",{children:[r.jsx("span",{className:"d-block",children:o}),r.jsx("small",{className:"text-muted",children:s.user.email})]})]}))}},{caption:"Acciones",cellTemplate:(a,{data:s})=>{t.id!=s.user.id&&a.append(j({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash-alt",onClick:()=>i(s.id)}))},allowFiltering:!1,allowExporting:!1}]})})};f((t,e)=>{u(t).render(r.jsx(R,{...e,title:"Colaboradores",children:r.jsx(b,{...e})}))});
