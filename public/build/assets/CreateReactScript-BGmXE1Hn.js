var E=Object.defineProperty;var L=(a,t,i)=>t in a?E(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var n=(a,t,i)=>L(a,typeof t!="symbol"?t+"":t,i);import"./index-B80Lgev0.js";import{y as O}from"./index.esm-X2U-7gJn.js";import{m as R}from"./main-DtAlmsP1.js";const s=class s{};n(s,"WA_URL",null),n(s,"PUBLIC_RSA_KEY",null),n(s,"APP_PROTOCOL",null),n(s,"APP_URL",null),n(s,"WA_URL",null),n(s,"APP_DOMAIN",null),n(s,"APP_NAME",null),n(s,"APP_CORRELATIVE",null),n(s,"GMAPS_API_KEY",null),n(s,"set",(t,i)=>{s[t]=i}),n(s,"get",t=>s[t]);let m=s;const U=a=>{O({resolve:t=>`/${t}.jsx`,setup:({el:t,props:i})=>{const c=i.initialPage.props,f=c.global??{};for(const o in f)m.set(o,f[o]);const C=(o,...A)=>{var P,p,l,d;const r=[];if(Array.isArray(o))for(const e of o)r.push(...A.map(u=>`${e}.${u}`));else r.push(...A.map(e=>`${o}.${e}`));if((p=(P=c==null?void 0:c.session)==null?void 0:P.permissions)!=null&&p.find(e=>r.includes(e.name)||e.name=="general.root"))return!0;const h=((l=c==null?void 0:c.session)==null?void 0:l.roles)??[];for(const e of h)if((d=e==null?void 0:e.permissions)!=null&&d.find(u=>r.includes(u.name)||u.name=="general.root"))return!0;return!1};R.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(R.Cookies.get("XSRF-TOKEN"))},$(".modal-backdrop").each(function(){$(this).text()||$(this).remove()}),a(t,{...c,can:C})}})};export{U as C,m as G};
