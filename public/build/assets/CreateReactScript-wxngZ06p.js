var L=Object.defineProperty;var O=(a,t,i)=>t in a?L(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var n=(a,t,i)=>O(a,typeof t!="symbol"?t+"":t,i);import"./index-B80Lgev0.js";import{y as g}from"./index.esm-X2U-7gJn.js";import{m as d}from"./main-DtAlmsP1.js";const s=class s{};n(s,"WA_URL",null),n(s,"PUBLIC_RSA_KEY",null),n(s,"APP_PROTOCOL",null),n(s,"APP_URL",null),n(s,"WA_URL",null),n(s,"APP_DOMAIN",null),n(s,"APP_NAME",null),n(s,"APP_CORRELATIVE",null),n(s,"GMAPS_API_KEY",null),n(s,"set",(t,i)=>{s[t]=i}),n(s,"get",t=>s[t]);let m=s;const $=a=>{g({resolve:t=>`/${t}.jsx`,setup:({el:t,props:i})=>{const c=i.initialPage.props,A=c.global??{};for(const r in A)m.set(r,A[r]);const C=(r,...P)=>{var f,p,l,R;const o=[];if(Array.isArray(r))for(const e of r)o.push(...P.map(u=>`${e}.${u}`));else o.push(...P.map(e=>`${r}.${e}`));if((p=(f=c==null?void 0:c.session)==null?void 0:f.permissions)!=null&&p.find(e=>o.includes(e.name)||e.name=="general.root"))return!0;const E=((l=c==null?void 0:c.session)==null?void 0:l.roles)??[];for(const e of E)if((R=e==null?void 0:e.permissions)!=null&&R.find(u=>o.includes(u.name)||u.name=="general.root"))return!0;return!1};d.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(d.Cookies.get("XSRF-TOKEN"))},a(t,{...c,can:C})}})};export{$ as C,m as G};
