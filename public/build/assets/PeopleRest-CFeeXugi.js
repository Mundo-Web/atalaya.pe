var C=Object.defineProperty;var $=(o,t,r)=>t in o?C(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r;var y=(o,t,r)=>$(o,typeof t!="symbol"?t+"":t,r);import{j as e}from"./Accordion-B0xeqd_u.js";import{r as i}from"./index-B80Lgev0.js";import{r as k}from"./server.browser-bIzDeQez.js";import{B as F}from"./BusinessIWorkCard-BsMRBA8t.js";const T=({label:o,children:t,className:r,required:n,icon:u,type:h="text",placeholder:b,value:m,onChange:w,onKeyDown:j,invalid:g,invalidText:N,disabled:f,maxLength:l,minLength:p})=>{const[d,v]=i.useState(!1),s=()=>{v(!d)};let a=h;return h=="password"&&(a=d?"text":"password"),e.jsx("div",{className:"group relative flex-1",children:e.jsxs("label",{className:`flex gap-2 border-2 px-3 py-2 border-[#BEC5FF] rounded-lg bg-white ${g?"border-[#FE4611]":"focus-within:border-[#4621E1]"} focus-within:cursor-text ${f?"cursor-not-allowed border-gray-200":"cursor-pointer"} transition-colors ${r}`,children:[u&&e.jsx("i",{className:u}),e.jsxs("div",{className:`${u?"flex-1":"w-full"} transition-all`,children:[e.jsxs("span",{className:"block text-xs font-semibold mb-1 select-none",children:[o,n&&e.jsx("span",{className:"text-[#FE4611] ms-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a,className:"border-0 outline-none bg-transparent w-full cursor-pointer focus:cursor-text disabled:cursor-not-allowed",placeholder:b,value:m,onChange:w,onKeyDown:j,maxLength:l,minLength:p,required:n,disabled:f}),h=="password"&&e.jsx("span",{type:"button",className:"absolute right-0 select-none cursor-pointer",onClick:s,children:d?e.jsx("i",{className:"mdi mdi-eye"}):e.jsx("i",{className:"mdi mdi-eye-off"})})]}),g&&e.jsx("span",{className:"text-[#FE4611] block text-xs mt-1",children:N})]}),t]})})},z=({label:o,required:t,icon:r,value:n,values:u=[],onChange:h,searchable:b=!1,disabled:m})=>{const w=i.useRef(),j=i.useRef(),g=i.useRef(),[N,f]=i.useState(""),[l,p]=i.useState(!1);i.useEffect(()=>{l&&b&&setTimeout(()=>{g.current.focus()},0);const s=a=>{var x,c;l&&!((x=j.current)!=null&&x.contains(a.target))&&!((c=w.current)!=null&&c.contains(a.target))&&(p(!1),f(""))};return document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[l]);const d=u.find(s=>typeof s=="object"?s.value==n:s==n),v=u.filter(s=>{const a=document.createElement("div");a.innerHTML=k(typeof s=="object"?s.label:s);const c=a.textContent.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),E=N.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return c.includes(E)});return i.useEffect(()=>{m&&p(!1)},[m]),e.jsx("div",{className:"group relative w-full",children:e.jsxs("div",{className:"relative",children:[e.jsxs("label",{ref:w,className:`flex gap-2 border-2 px-3 py-2 ${l?"border-[#4621E1]":"border-[#BEC5FF]"} rounded-lg bg-white cursor-pointer ${m&&"cursor-not-allowed"} transition-colors`,onClick:()=>{m||p(!l)},children:[r&&e.jsx("i",{className:r}),e.jsxs("div",{className:`relative w-[calc(100%-24px)] ${r&&"flex-1"}`,children:[e.jsxs("span",{className:"block text-xs font-semibold mb-1 select-none",children:[o,t&&e.jsx("span",{className:"text-[#FE4611] ms-1",children:"*"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"text-gray-700 truncate",children:(d==null?void 0:d.label)??n}),e.jsx("i",{className:`absolute mdi mdi-chevron-down transition-transform ${l?"rotate-180":""} right-0 bottom-0`})]})]})]}),l&&e.jsxs("div",{ref:j,className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg",children:[b&&e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 rounded-t-lg",children:e.jsx("input",{ref:g,type:"text",className:"w-full px-3 py-2 border-0 text-sm border-gray-200 rounded-md focus:outline-none focus:border-[#4621E1]",placeholder:"Buscar...",value:N,onChange:s=>f(s.target.value),onClick:s=>s.stopPropagation()})}),e.jsxs("div",{className:`max-h-[240px] overflow-auto rounded-b-lg ${!b&&"rounded-t-lg"}`,children:[v.map((s,a)=>{let x=s,c=s;return typeof s=="object"&&(x=s.value,c=s.label),e.jsx("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm truncate w-full",onClick:()=>{h({target:{value:x,textContent:c}}),p(!1),f("")},children:c},a)}),v.length==0&&e.jsx("div",{className:"px-3 py-2 text-sm w-full text-center text-gray-600",children:"No hay resultados"})]})]})]})})};class B extends F{constructor(){super(...arguments);y(this,"path","person");y(this,"showGetNotify",!1);y(this,"search",(r,n)=>this.simpleGet(`/api/${this.path}/search/${r}/${n}`))}}export{z as D,T as I,B as P};
