import{j as e}from"./Accordion-B0xeqd_u.js";import{c as m}from"./ReactAppend-Da6mr3zD.js";import{C as l}from"./CreateReactScript-wxngZ06p.js";import{A as d}from"./Adminto-D364ytFN.js";import{T as p,R as i}from"./Table-BKtRPVyk.js";import{r as u}from"./index-B80Lgev0.js";import{D as f}from"./DxButton-CsjWvhyj.js";import{S as x}from"./SurveyStep-C1GxQ1hd.js";import{U as h}from"./UsersRest--a551a2g.js";import"./index-STwnHZb6.js";import"./index.esm-X2U-7gJn.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./main-DtAlmsP1.js";import"./Logout-C-aUOij0.js";import"./tippy-react.esm-PO7soYrD.js";import"./TippyButton-DN-nzi_f.js";import"./WhatsAppModal-BYoU6ug0.js";import"./BusinessIWorkCard-CQ8PkW75.js";const c=new h,C=()=>{const o=u.useRef(),a=async t=>{(await x.fire({title:"¿Estás seguro?",text:"¡Esta acción no se puede deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Sí, eliminar!"})).isConfirmed&&(await c.delete(t),$(o.current).dxDataGrid("instance").refresh())};return e.jsx(p,{gridRef:o,title:"Usuarios",toolBar:t=>{t.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(o.current).dxDataGrid("instance").refresh()}})},rest:c,columns:[{dataField:"person.document_number",caption:"Documento",cellTemplate:(t,{data:r})=>{var n,s;i(t,e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"badge bg-primary me-1",children:((n=r.person)==null?void 0:n.document_type)??"SD"}),((s=r.person)==null?void 0:s.document_number)??"00000000"]}))}},{dataField:"fullname",caption:"Usuario"},{dataField:"email",caption:"Correo electrónico"},{dataField:"creator.name",caption:"Creado por",cellTemplate:(t,{data:r})=>{var n,s;i(t,e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"d-block",children:(n=r.creator)==null?void 0:n.name}),e.jsx("small",{className:"text-muted",children:(s=r.creator)==null?void 0:s.email})]}))}},{caption:"Acciones",cellTemplate:(t,{data:r})=>{t.append(f({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash-alt",onClick:()=>a(r.id)}))}}]})};l((o,a)=>{if(!a.can("users","root"))return location.href="/";m(o).render(e.jsx(d,{...a,title:"Usuarios",children:e.jsx(C,{...a})}))});
