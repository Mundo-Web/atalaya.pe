var m=Object.defineProperty;var d=(t,e,i)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var l=(t,e,i)=>d(t,typeof e!="symbol"?e+"":e,i);import{C as p,c as u,j as a,r as f}from"./CreateReactScript-iip1gB5Y.js";import"./JSEncrypt-D3I3x59l.js";import{T as x,R as h}from"./Table-Ft69a6jc.js";import{B as g}from"./BasicRest-DFLPWFMv.js";import{A as b}from"./Adminto-CSif9jKy.js";import"./tippy-CLq_8JA_.js";import"./server.browser-XhJMSiM-.js";import"./Logout-C5ryHcd-.js";import"./sweetalert2.esm.all-B0Dix5B2.js";const C=({className:t,title:e,icon:i,onClick:s,...r})=>$("<div>").dxButton({hint:e,template:(n,o)=>{o.addClass(`${i} d-block`)},elementAttr:{class:`${t} position-relative me-1 px-1 py-0 tippy-here`,...r},onClick:s});class R extends g{constructor(){super(...arguments);l(this,"path","team")}}const c=new R,j=({session:t})=>{const e=f.useRef(),i=async s=>{const{isConfirmed:r}=await Swal.fire({title:"¿Estás seguro?",text:"No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar"});!r||!await c.delete(s)||$(e.current).dxDataGrid("instance").refresh()};return a.jsx(a.Fragment,{children:a.jsx(x,{gridRef:e,title:"Colaboradores",rest:c,toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(e.current).dxDataGrid("instance").refresh()}})},pageSize:25,columns:[{dataField:"business.name",caption:"Empresa"},{dataField:"service.name",caption:"Servicio"},{dataField:"user.name",caption:"Usuario",width:"500px",cellTemplate:(s,{data:r})=>{const n=r.user.name+" "+r.user.lastname;h(s,a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("img",{className:"avatar-sm rounded-circle",src:`/api/profile/thumbnail/${r.user.relative_id}`,onError:o=>{o.target.onerror=null,o.target.src="/api/profile/thumbnail/undefined"},style:{aspectRatio:1},alt:n}),a.jsxs("div",{children:[a.jsx("span",{className:"d-block",children:n}),a.jsx("small",{className:"text-muted",children:r.user.email})]})]}))}},{caption:"Acciones",cellTemplate:(s,{data:r})=>{t.id!=r.user.id&&s.append(C({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash-alt",onClick:()=>i(r.id)}))},allowFiltering:!1,allowExporting:!1}]})})};p((t,e)=>{u(t).render(a.jsx(b,{...e,title:"Colaboradores",children:a.jsx(j,{...e})}))});
