import{j as e}from"./Accordion-B0xeqd_u.js";import{r as o}from"./index-B80Lgev0.js";import{r as E}from"./server.browser-bIzDeQez.js";const S=({label:N,children:v,className:m,required:a,icon:n,type:f="text",placeholder:x,value:c,onChange:g,onKeyDown:j,invalid:p,invalidText:w,disabled:i})=>{const[t,d]=o.useState(!1),h=()=>{d(!t)};let b=f;return f=="password"&&(b=t?"text":"password"),e.jsx("div",{className:"group relative flex-1",children:e.jsxs("label",{className:`flex gap-2 border-2 px-3 py-2 border-[#BEC5FF] rounded-lg bg-white ${p?"border-[#FE4611]":"focus-within:border-[#4621E1]"} focus-within:cursor-text ${i?"cursor-not-allowed":"cursor-pointer"} transition-colors ${m}`,children:[n&&e.jsx("i",{className:n}),e.jsxs("div",{className:`${n?"flex-1":"w-full"} transition-all`,children:[e.jsxs("span",{className:"block text-xs font-semibold mb-1 select-none",children:[N,a&&e.jsx("span",{className:"text-[#FE4611] ms-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:b,className:"border-0 outline-none bg-transparent w-full cursor-pointer focus:cursor-text disabled:cursor-not-allowed",placeholder:x,value:c,onChange:g,onKeyDown:j,required:a,disabled:i}),f=="password"&&e.jsx("button",{type:"button",className:"absolute right-0",onClick:h,children:t?e.jsx("i",{className:"mdi mdi-eye"}):e.jsx("i",{className:"mdi mdi-eye-off"})})]}),p&&e.jsx("span",{className:"text-[#FE4611] block text-xs mt-1",children:w})]}),v]})})},$=({label:N,required:v,icon:m,value:a,values:n=[],onChange:f,searchable:x=!1,disabled:c})=>{const g=o.useRef(),j=o.useRef(),p=o.useRef(),[w,i]=o.useState(""),[t,d]=o.useState(!1);o.useEffect(()=>{t&&x&&setTimeout(()=>{p.current.focus()},0);const s=l=>{var u,r;t&&!((u=j.current)!=null&&u.contains(l.target))&&!((r=g.current)!=null&&r.contains(l.target))&&(d(!1),i(""))};return document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[t]);const h=n.find(s=>typeof s=="object"?s.value==a:s==a),b=n.filter(s=>{const l=document.createElement("div");l.innerHTML=E(typeof s=="object"?s.label:s);const r=l.textContent.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),y=w.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return r.includes(y)});return o.useEffect(()=>{c&&d(!1)},[c]),e.jsx("div",{className:"group relative w-full",children:e.jsxs("div",{className:"relative",children:[e.jsxs("label",{ref:g,className:`flex gap-2 border-2 px-3 py-2 ${t?"border-[#4621E1]":"border-[#BEC5FF]"} rounded-lg bg-white cursor-pointer ${c&&"cursor-not-allowed"} transition-colors`,onClick:()=>{c||d(!t)},children:[m&&e.jsx("i",{className:m}),e.jsxs("div",{className:`relative w-[calc(100%-24px)] ${m&&"flex-1"}`,children:[e.jsxs("span",{className:"block text-xs font-semibold mb-1 select-none",children:[N,v&&e.jsx("span",{className:"text-[#FE4611] ms-1",children:"*"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"text-gray-700 truncate",children:(h==null?void 0:h.label)??a}),e.jsx("i",{className:`absolute mdi mdi-chevron-down transition-transform ${t?"rotate-180":""} right-0 bottom-0`})]})]})]}),t&&e.jsxs("div",{ref:j,className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg",children:[x&&e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 rounded-t-lg",children:e.jsx("input",{ref:p,type:"text",className:"w-full px-3 py-2 border-0 text-sm border-gray-200 rounded-md focus:outline-none focus:border-[#4621E1]",placeholder:"Buscar...",value:w,onChange:s=>i(s.target.value),onClick:s=>s.stopPropagation()})}),e.jsxs("div",{className:`max-h-[240px] overflow-auto rounded-b-lg ${!x&&"rounded-t-lg"}`,children:[b.map((s,l)=>{let u=s,r=s;return typeof s=="object"&&(u=s.value,r=s.label),e.jsx("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm truncate w-full",onClick:()=>{f({target:{value:u,textContent:r}}),d(!1),i("")},children:r},l)}),b.length==0&&e.jsx("div",{className:"px-3 py-2 text-sm w-full text-center text-gray-600",children:"No hay resultados"})]})]})]})})};export{$ as D,S as I};
