import{j as e}from"./Accordion-B0xeqd_u.js";import{c as n}from"./ReactAppend-Da6mr3zD.js";import{C as d}from"./CreateReactScript-wxngZ06p.js";import{A as h}from"./Adminto-D364ytFN.js";import{r as x}from"./index-B80Lgev0.js";import{B as p}from"./BusinessesRest-Dm1R5PKi.js";import{S as f}from"./SurveyStep-C1GxQ1hd.js";import"./index-STwnHZb6.js";import"./index.esm-X2U-7gJn.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./main-DtAlmsP1.js";import"./Logout-C-aUOij0.js";import"./tippy-react.esm-PO7soYrD.js";import"./TippyButton-DN-nzi_f.js";import"./WhatsAppModal-BYoU6ug0.js";import"./BusinessIWorkCard-CZ9h3uY_.js";const j=new p,u=({businesses:i})=>{const s=x.useRef(),m=async t=>{(await f.fire({title:"¿Estás seguro?",text:"¡Esta acción no se puede deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Sí, eliminar!"})).isConfirmed&&(await j.delete(t),$(s.current).dxDataGrid("instance").refresh())};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex flex-wrap gap-3 justify-content-center",children:i.map(t=>{var l,o,c;return e.jsx("div",{className:"card mb-0",style:{width:"420px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title mt-0 mb-1",children:t.name}),e.jsxs("div",{children:[e.jsx("span",{className:"d-block",children:(l=t.creator)==null?void 0:l.fullname}),e.jsx("small",{className:"text-muted",children:(o=t.creator)==null?void 0:o.email})]}),e.jsx("hr",{className:"my-2"}),e.jsx("div",{className:"table-responsive",style:{height:"241px"},children:e.jsx("table",{className:"table table-sm mb-0",children:e.jsx("tbody",{children:(c=t.users)==null?void 0:c.map((r,a)=>e.jsxs("tr",{children:[e.jsx("td",{valign:"middle",style:{width:"0%",borderBottomWidth:a===t.users.length-1?0:void 0},children:e.jsx("img",{src:`/api/profile/thumbnail/${r.relative_id}`,alt:"",className:"avatar-sm rounded-circle"})}),e.jsxs("td",{style:{borderBottomWidth:a===t.users.length-1?0:void 0},children:[e.jsx("span",{className:"d-block",children:r.fullname}),e.jsx("small",{className:"text-muted",children:r.email})]}),e.jsx("td",{valign:"middle",style:{borderBottomWidth:a===t.users.length-1?0:void 0},children:e.jsx("button",{className:"btn btn-xs btn-soft-danger",onClick:()=>m(r.id),children:e.jsx("i",{className:"fa fa-trash-alt"})})})]},a))})})})]})},t.id)})})})};d((i,s)=>{if(!s.can("businesses","root"))return location.href="/";n(i).render(e.jsx(h,{...s,title:"Empresas",children:e.jsx(u,{...s})}))});
