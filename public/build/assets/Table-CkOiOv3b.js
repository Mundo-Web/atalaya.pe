import{c as B,r as R,R as a}from"./CreateReactScript-BEd-rCvk.js";const V=(e,i)=>{const l=document.createElement("div");e.append(l),B(l).render(i)},O=({gridRef:e,rest:i,columns:l,toolBar:c,masterDetail:u,filterValue:p,defaultRows:s,selection:m,allowedPageSizes:f=[5,10,25,50,100],pageSize:g=100,exportable:x,exportableName:h,customizeCell:v=()=>{},reloadWith:b=[null],height:w="calc(100vh - 185px)"})=>(R.useEffect(()=>{var y,D,N;DevExpress.localization.locale(navigator.language),$(e.current).data("dxDataGrid")&&((D=(y=$(e.current))==null?void 0:y.dxDataGrid("instance"))==null||D.dispose()),$(e.current).dxDataGrid({language:"es",dataSource:{load:async r=>{const t=await i.paginate(r)??{};let o=(t==null?void 0:t.data)||[];if(s){const n=s.map(E=>Object.keys(E)),C=o.concat(s.filter(E=>!o.some(k=>n.some(z=>z.every(S=>k[S]==E[S])))));t.data=C}return t}},onToolbarPreparing:r=>{const{items:t}=r.toolbarOptions;c(t)},remoteOperations:!0,columnResizingMode:"widget",allowColumnResizing:!0,allowColumnReordering:!0,columnAutoWidth:!0,scrollbars:"auto",filterPanel:{visible:!0},searchPanel:{visible:!0},headerFilter:{visible:!0,search:{enabled:!0}},height:w,filterValue:p,selection:m||null,export:{enabled:x},onExporting:function(r){var t=new ExcelJS.Workbook,o=t.addWorksheet("Main sheet");DevExpress.excelExporter.exportDataGrid({worksheet:o,component:r.component,customizeCell:function(n){v(n),n.excelCell.alignment={horizontal:"left",vertical:"top",...n.excelCell.alignment}}}).then(function(){t.xlsx.writeBuffer().then(function(n){saveAs(new Blob([n],{type:"application/octet-stream"}),`${h}.xlsx`)})})},rowAlternationEnabled:!0,showBorders:!0,filterRow:{visible:!0,applyFilter:"auto"},filterBuilderPopup:{visible:!1,position:{of:window,at:"top",my:"top",offset:{y:10}}},paging:{pageSize:g},pager:{visible:!0,allowedPageSizes:f,showPageSizeSelector:!0,showInfo:!0,showNavigationButtons:!0},allowFiltering:!0,scrolling:{mode:"standard",useNative:!0,preloadEnabled:!0,rowRenderingMode:"standard"},columnChooser:{title:"Mostrar/Ocultar columnas",enabled:!0,mode:"select",search:{enabled:!0}},columns:l,masterDetail:u,onContentReady:(...r)=>{tippy(".tippy-here",{arrow:!0,animation:"scale"})},onOptionChanged:r=>{if(r.fullName==="filterValue"){const t=location.pathname,o=Local.get("dxSettings")||{};o[t]={filterValue:r.value},Local.set("dxSettings",o)}}}).dxDataGrid("instance"),tippy(".dx-button",{arrow:!0});const d=Local.get("dxSettings")||{};(N=d[location.pathname])!=null&&N.filterValue&&$(e.current).dxDataGrid("instance").option("filterValue",d[location.pathname].filterValue)},b),a.createElement("div",{ref:e})),A=({title:e,gridRef:i,rest:l,columns:c,toolBar:u,masterDetail:p,filterValue:s=[],defaultRows:m,selection:f,className:g="",allowedPageSizes:x,pageSize:h,exportable:v=!1,customizeCell:b,reloadWith:w,height:d})=>a.createElement("div",{className:`row ${g}`},a.createElement("div",{className:"col-12"},a.createElement("div",{className:"card"},typeof e=="object"&&a.createElement("div",{className:"card-header"},e),a.createElement("div",{className:"card-body"},typeof e=="string"&&a.createElement("h4",{className:"header-title"},a.createElement("div",{id:"header-title-options",className:"float-end"}),a.createElement("span",{id:"header-title-prefix"})," Lista de ",e," ",a.createElement("span",{id:"header-title-suffix"})),a.createElement(O,{gridRef:i,rest:l,columns:c.filter(Boolean),toolBar:u,masterDetail:p,filterValue:s,defaultRows:m,selection:f,allowedPageSizes:x,pageSize:h,exportable:v,exportableName:e,customizeCell:b,reloadWith:w,height:d})))));export{V as R,A as T};
