var m=Object.defineProperty;var p=(t,e,s)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var l=(t,e,s)=>p(t,typeof e!="symbol"?e+"":e,s);import{j as r}from"./Accordion-B0xeqd_u.js";import"./JSEncrypt-D3I3x59l.js";import{r as d}from"./index-B80Lgev0.js";import{c as u}from"./ReactAppend-Da6mr3zD.js";import{C as f}from"./CreateReactScript-RU15QjVK.js";import{T as x,R as h}from"./Table-BKtRPVyk.js";import"./main-DtAlmsP1.js";import{B as g}from"./BusinessIWorkCard-CQ8PkW75.js";import{A as R}from"./Adminto-Bd8o-Rrc.js";import"./TippyButton-DN-nzi_f.js";import"./server.browser-bIzDeQez.js";import{D as b}from"./DxButton-CsjWvhyj.js";import"./index-STwnHZb6.js";import"./index.esm-B9FXdcpn.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./Logout-C-aUOij0.js";import"./tippy-react.esm-PO7soYrD.js";import"./WhatsAppModal-BYoU6ug0.js";import"./SurveyStep-C1GxQ1hd.js";class j extends g{constructor(){super(...arguments);l(this,"path","team")}}const c=new j,C=({session:t})=>{const e=d.useRef(),s=async i=>{const{isConfirmed:a}=await Swal.fire({title:"¿Estás seguro?",text:"No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar"});!a||!await c.delete(i)||$(e.current).dxDataGrid("instance").refresh()};return r.jsx(r.Fragment,{children:r.jsx(x,{gridRef:e,title:"Colaboradores",rest:c,toolBar:i=>{i.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(e.current).dxDataGrid("instance").refresh()}})},pageSize:25,columns:[{dataField:"business.name",caption:"Empresa"},{dataField:"service.name",caption:"Servicio"},{dataField:"user.name",caption:"Usuario",width:"500px",cellTemplate:(i,{data:a})=>{const o=a.user.name+" "+a.user.lastname;h(i,r.jsxs("div",{className:"d-flex gap-2",children:[r.jsx("img",{className:"avatar-sm rounded-circle",src:`/api/profile/thumbnail/${a.user.relative_id}`,onError:n=>{n.target.onerror=null,n.target.src="/api/profile/thumbnail/undefined"},style:{aspectRatio:1},alt:o}),r.jsxs("div",{children:[r.jsx("span",{className:"d-block",children:o}),r.jsx("small",{className:"text-muted",children:a.user.email})]})]}))}},{caption:"Acciones",cellTemplate:(i,{data:a})=>{t.id!=a.user.id&&i.append(b({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash-alt",onClick:()=>s(a.id)}))},allowFiltering:!1,allowExporting:!1}]})})};f((t,e)=>{u(t).render(r.jsx(R,{...e,title:"Colaboradores",children:r.jsx(C,{...e})}))});
