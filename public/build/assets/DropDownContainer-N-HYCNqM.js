import{j as e}from"./Accordion-B0xeqd_u.js";import{r as l}from"./index-B80Lgev0.js";import{r as E}from"./server.browser-bIzDeQez.js";const S=({label:N,children:v,className:f,required:n,icon:c,type:x="text",placeholder:p,value:i,onChange:b,onKeyDown:g,invalid:h,invalidText:j,disabled:d,maxLength:r,minLength:u})=>{const[a,w]=l.useState(!1),s=()=>{w(!a)};let t=x;return x=="password"&&(t=a?"text":"password"),e.jsx("div",{className:"group relative flex-1",children:e.jsxs("label",{className:`flex gap-2 border-2 px-3 py-2 border-[#BEC5FF] rounded-lg bg-white ${h?"border-[#FE4611]":"focus-within:border-[#4621E1]"} focus-within:cursor-text ${d?"cursor-not-allowed":"cursor-pointer"} transition-colors ${f}`,children:[c&&e.jsx("i",{className:c}),e.jsxs("div",{className:`${c?"flex-1":"w-full"} transition-all`,children:[e.jsxs("span",{className:"block text-xs font-semibold mb-1 select-none",children:[N,n&&e.jsx("span",{className:"text-[#FE4611] ms-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:t,className:"border-0 outline-none bg-transparent w-full cursor-pointer focus:cursor-text disabled:cursor-not-allowed",placeholder:p,value:i,onChange:b,onKeyDown:g,maxLength:r,minLength:u,required:n,disabled:d}),x=="password"&&e.jsx("button",{type:"button",className:"absolute right-0 select-none",onClick:s,children:a?e.jsx("i",{className:"mdi mdi-eye"}):e.jsx("i",{className:"mdi mdi-eye-off"})})]}),h&&e.jsx("span",{className:"text-[#FE4611] block text-xs mt-1",children:j})]}),v]})})},$=({label:N,required:v,icon:f,value:n,values:c=[],onChange:x,searchable:p=!1,disabled:i})=>{const b=l.useRef(),g=l.useRef(),h=l.useRef(),[j,d]=l.useState(""),[r,u]=l.useState(!1);l.useEffect(()=>{r&&p&&setTimeout(()=>{h.current.focus()},0);const s=t=>{var m,o;r&&!((m=g.current)!=null&&m.contains(t.target))&&!((o=b.current)!=null&&o.contains(t.target))&&(u(!1),d(""))};return document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[r]);const a=c.find(s=>typeof s=="object"?s.value==n:s==n),w=c.filter(s=>{const t=document.createElement("div");t.innerHTML=E(typeof s=="object"?s.label:s);const o=t.textContent.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),y=j.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return o.includes(y)});return l.useEffect(()=>{i&&u(!1)},[i]),e.jsx("div",{className:"group relative w-full",children:e.jsxs("div",{className:"relative",children:[e.jsxs("label",{ref:b,className:`flex gap-2 border-2 px-3 py-2 ${r?"border-[#4621E1]":"border-[#BEC5FF]"} rounded-lg bg-white cursor-pointer ${i&&"cursor-not-allowed"} transition-colors`,onClick:()=>{i||u(!r)},children:[f&&e.jsx("i",{className:f}),e.jsxs("div",{className:`relative w-[calc(100%-24px)] ${f&&"flex-1"}`,children:[e.jsxs("span",{className:"block text-xs font-semibold mb-1 select-none",children:[N,v&&e.jsx("span",{className:"text-[#FE4611] ms-1",children:"*"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"text-gray-700 truncate",children:(a==null?void 0:a.label)??n}),e.jsx("i",{className:`absolute mdi mdi-chevron-down transition-transform ${r?"rotate-180":""} right-0 bottom-0`})]})]})]}),r&&e.jsxs("div",{ref:g,className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg",children:[p&&e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 rounded-t-lg",children:e.jsx("input",{ref:h,type:"text",className:"w-full px-3 py-2 border-0 text-sm border-gray-200 rounded-md focus:outline-none focus:border-[#4621E1]",placeholder:"Buscar...",value:j,onChange:s=>d(s.target.value),onClick:s=>s.stopPropagation()})}),e.jsxs("div",{className:`max-h-[240px] overflow-auto rounded-b-lg ${!p&&"rounded-t-lg"}`,children:[w.map((s,t)=>{let m=s,o=s;return typeof s=="object"&&(m=s.value,o=s.label),e.jsx("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm truncate w-full",onClick:()=>{x({target:{value:m,textContent:o}}),u(!1),d("")},children:o},t)}),w.length==0&&e.jsx("div",{className:"px-3 py-2 text-sm w-full text-center text-gray-600",children:"No hay resultados"})]})]})]})})};export{$ as D,S as I};
