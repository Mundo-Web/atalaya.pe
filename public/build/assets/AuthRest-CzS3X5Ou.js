var c=Object.defineProperty;var y=(i,e,t)=>e in i?c(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var a=(i,e,t)=>y(i,typeof e!="symbol"?e+"":e,t);import{m as s}from"./main-DtAlmsP1.js";class n{constructor(){a(this,"login",async e=>{const{status:t,result:r}=await s.Fetch("/api/auth/login",{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(s.Cookies.get("XSRF-TOKEN"))}});return{...r,status:t}});a(this,"userExists",async e=>{let t={};try{const{status:r,result:o}=await s.Fetch("/api/auth/check",{method:"POST",body:JSON.stringify(e)});if(t=o.summary,!r)throw new Error((o==null?void 0:o.message)||"Error al verificar el usuario");return{status:!0}}catch(r){return{status:!1,message:r.message,type:(t==null?void 0:t.type)??"other"}}});a(this,"register",async e=>{const{status:t,result:r}=await s.Fetch("/api/auth/register",{method:"POST",body:JSON.stringify(e)});return{...r,status:t}});a(this,"sendCode",async e=>{const{status:t,result:r}=await s.Fetch("/api/auth/send-code",{method:"POST",body:JSON.stringify(e)});return{...r,status:t}});a(this,"verifyEmail",async e=>{const{status:t,result:r}=await s.Fetch("/api/auth/verify-email",{method:"POST",body:JSON.stringify(e)});return{...r,status:t}})}}a(n,"login",async e=>{try{const{status:t,result:r}=await s.Fetch("/api/login",{method:"POST",body:JSON.stringify(e)});if(!t)throw new Error((r==null?void 0:r.message)||"Error al iniciar sesion");return s.Notify.add({icon:"/assets/img/icon.svg",title:"Operacion correcta",body:"Se inicio sesion correctamente"}),!0}catch(t){return s.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:t.message,type:"danger"}),!1}}),a(n,"signup",async e=>{try{const{status:t,result:r}=await s.Fetch("/api/signup",{method:"POST",body:JSON.stringify(e)});if(!t)throw new Error((r==null?void 0:r.message)||"Error al registrar el usuario");return s.Notify.add({icon:"/assets/img/icon.svg",title:"Operacion correcta",body:"Se registro el usuario correctamente"}),r.data}catch(t){return s.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:t.message,type:"danger"}),null}});export{n as A};
