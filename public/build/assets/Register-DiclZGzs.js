import{j as e}from"./Accordion-B0xeqd_u.js";import{c as k}from"./ReactAppend-Da6mr3zD.js";import{r as a}from"./index-B80Lgev0.js";import{C as T,G as _}from"./CreateReactScript-D3qb0hcY.js";import{D,I as r,P as L}from"./PeopleRest-CFeeXugi.js";import{A as z}from"./AuthRest-CzS3X5Ou.js";import{T as M}from"./index-BK7CmI7H.js";import{J as B}from"./JSEncrypt-D3I3x59l.js";import"./index-STwnHZb6.js";import"./index.esm-X2U-7gJn.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./main-DtAlmsP1.js";import"./server.browser-bIzDeQez.js";import"./BusinessIWorkCard-BsMRBA8t.js";const G=new L,J=({invitation:n,PUBLIC_RSA_KEY:i,prefixes:S=[]})=>{const c=new B;c.setPublicKey(i);const[h,d]=a.useState(""),[g,m]=a.useState(""),[l,P]=a.useState("DNI"),[o,E]=a.useState(""),[b,u]=a.useState("51"),[f,x]=a.useState(""),[j,R]=a.useState(""),[N,I]=a.useState(""),[V,v]=a.useState(!1),[w,p]=a.useState(!1),[t,y]=a.useState(!1),F=async s=>{s.preventDefault();const A={name:h,lastname:g,document_type:l,document_number:o,phone_prefix:b,phone:f,password:c.encrypt(j),confirmation:c.encrypt(N)};y(!0);const C=await z.signup(A);if(!C)return y(!1);location.href=`//${C}.${_.APP_DOMAIN}/home`},q=async()=>{v(!0),p(!1);const s=await G.search(l,o);if(v(!1),!s)return p(null);p(!0),d(s.name),m(s.lastname),u(s.phone_prefix||"51"),x(s.phone)};return a.useEffect(()=>{d(""),m(""),u("51"),x(""),(l==="DNI"&&o.length===8||l==="CE"&&o.length===9)&&q()},[l,o]),e.jsxs(e.Fragment,{children:[e.jsx(M,{}),e.jsxs("main",{className:"text-[#000938] bg-no-repeat bg-cover bg-fixed bg-center",style:{},children:[e.jsx("header",{className:"bg-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl w-full mx-auto relative flex items-center justify-center py-4 px-4 sm:px-6 lg:px-8",children:e.jsx("a",{href:"/",className:"transition-transform hover:scale-105",children:e.jsx("img",{src:"/assets/img/logo-dark.svg",alt:"",style:{height:"32px"}})})})}),e.jsxs("section",{className:"relative bg-[#f8f8f8]",children:[e.jsx("img",{className:"absolute top-0 left-0 w-full h-full z-0",src:"/assets/img/background-auth.png"}),e.jsx("div",{className:" mx-auto flex flex-col md:flex-row z-10 items-center justify-center",children:e.jsx("div",{className:"relative h-[calc(100vh-144px)] md:h-[calc(100vh-116px)] overflow-y-auto w-full p-6 md:p-12 z-10  justify-center items-center",children:e.jsxs("div",{className:"bg-white block rounded-xl max-w-lg w-full mx-auto p-6 shadow-lg",children:[e.jsx("i",{className:"mdi mdi-account mdi-36px w-14 h-14 bg-[#DBE0FF] mx-auto mb-6 rounded-2xl flex items-center justify-center text-[#4621E1]"}),e.jsxs("h2",{className:"text-3xl font-bold mb-2 text-center w-full",children:["Registro en Atala",e.jsx("span",{className:"text-[#FE4611]",children:"y"}),"a"]}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Completa tus datos para registrarte"}),e.jsxs("form",{onSubmit:F,children:[e.jsx("h4",{className:"font-bold mb-2",children:"Datos personales"}),e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(D,{label:"Tipo de doc.",icon:"mdi mdi-badge-account-horizontal-outline",value:l,values:["DNI","CE"],onChange:s=>P(s.target.value),required:!0,disabled:t}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(r,{label:"Número de documento",placeholder:"00000000",value:o,onChange:s=>E(s.target.value),required:!0,disabled:t,maxLength:l==="DNI"?8:9,minLength:l==="DNI"?8:9})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(r,{label:"Nombres",icon:"mdi mdi-account",placeholder:"Ingresa tus nombres",value:h,onChange:s=>d(s.target.value),disabled:t||w!==null,required:!0}),e.jsx(r,{label:"Apellidos",icon:"mdi mdi-account",placeholder:"Ingresa tus apellidos",value:g,onChange:s=>m(s.target.value),disabled:t||w!==null,required:!0})]})]}),e.jsx("h4",{className:"font-bold mb-2",children:"Datos de contacto"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(D,{label:"Prefijo",icon:"mdi mdi-flag",value:b,values:S.map(s=>({value:s.realCode,label:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-emoji w-6 inline-block",children:s.flag}),e.jsx("span",{className:"font-semibold",children:s.country}),e.jsx("span",{className:"text-gray-600 text-xs ms-1",children:s.beautyCode})]})})),onChange:s=>u(s.target.value),disabled:t,searchable:!0})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(r,{icon:"mdi mdi-phone",label:"Teléfono",placeholder:"000000000",type:"tel",value:f,onChange:s=>x(s.target.value),disabled:t,required:!0})})]}),e.jsx("h4",{className:"font-bold mb-2",children:"Datos de inicio de sesión"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx(r,{label:"E-mail",placeholder:"correo@ejemplo.com",value:n.email,disabled:!0}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(r,{label:"Contraseña",placeholder:"••••••••",type:"password",value:j,onChange:s=>R(s.target.value),disabled:t,required:!0}),e.jsx(r,{label:"Confirmar",placeholder:"••••••••",type:"password",value:N,onChange:s=>I(s.target.value),disabled:t,required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full block border-2 border-[#4621E1] bg-[#4621E1] hover:bg-opacity-90 transition-colors font-semibold text-white rounded-xl py-2 px-6",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"mdi mdi-loading mdi-spin"})," Registrando"]}):"Registrarme"})]})]})})})]}),e.jsx("footer",{className:"bg-white shadow-lg",children:e.jsxs("div",{className:"max-w-7xl w-full mx-auto relative flex flex-col md:flex-row gap-2 items-center justify-between py-4 px-4 sm:px-6 lg:px-8 text-sm",children:[e.jsxs("span",{children:[new Date().getFullYear()," © Atalaya | Propiedad de ",e.jsx("a",{href:"//mundoweb.pe",target:"_blank",className:"text-[#fe4611]",children:"MundoWeb"})]}),e.jsx("span",{children:"Powered By MundoWeb"})]})})]})]})};T((n,i)=>{k(n).render(e.jsx(J,{...i}))});
