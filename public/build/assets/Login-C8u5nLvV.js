import{C as j,c as N,j as e,r,m as s}from"./CreateReactScript-CjXADJBG.js";import{J as b}from"./JSEncrypt-D3I3x59l.js";import{A as g}from"./AuthRest-Bydqg3S6.js";import{S as v}from"./sweetalert2.esm.all-B0Dix5B2.js";const y=({PUBLIC_RSA_KEY:a,token:t,APP_DOMAIN:o,APP_PROTOCOL:m})=>{document.title="Login | Atalaya";const c=new b;c.setPublicKey(a);const[w,l]=r.useState(!0),i=r.useRef(),n=r.useRef(),d=r.useRef();r.useEffect(()=>{s.GET.message&&v.fire({icon:"info",title:"Mensaje",text:s.GET.message,showConfirmButton:!1,timer:3e3}),s.GET.service?history.pushState(null,null,`/login?service=${s.GET.service}`):history.pushState(null,null,"/login")},[null]);const u=async h=>{h.preventDefault(),l(!0);const x=i.current.value,f=n.current.value,p={email:c.encrypt(x),password:c.encrypt(f),_token:t};if(!await g.login(p))return l(!1);s.GET.service?location.href=`${m}://${s.GET.service}.${o}/home`:location.href="./home"};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"account-pages my-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center align-items-center",style:{minHeight:"calc(100vh - 150px)"},children:e.jsxs("div",{className:"col-md-8 col-lg-6 col-xl-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo-dark.svg",alt:"",height:"22",className:"mx-auto",style:{height:"22px"}})}),e.jsx("p",{className:"text-muted mt-2 mb-4",children:"Atalaya by Mundo Web"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx("h4",{className:"text-uppercase mt-0 font-bold",children:"Inicia Sesión"})}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Correo o Usuario"}),e.jsx("input",{ref:i,className:"form-control",type:"email",id:"email",required:!0,placeholder:"Ingrese su correo o usuario"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Contraseña"}),e.jsx("input",{ref:n,className:"form-control",type:"password",required:!0,id:"password",placeholder:"Ingrese su contraseña"})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{ref:d,type:"checkbox",className:"form-check-input",id:"checkbox-signin",defaultChecked:!0,style:{cursor:"pointer"}}),e.jsx("label",{className:"form-check-label",htmlFor:"checkbox-signin",style:{cursor:"pointer"},children:"Recuerdame"})]})}),e.jsx("div",{className:"mb-3 d-grid text-center",children:e.jsx("button",{className:"btn btn-primary",type:"submit",children:" Iniciar Sesión "})})]})]})}),e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-12 text-center",children:[e.jsxs("p",{children:[" ",e.jsxs("a",{href:"/recovery",className:"text-muted ms-1",children:[e.jsx("i",{className:"fa fa-lock me-1"}),"Olvidaste tu contraseña?"]})]}),e.jsxs("p",{className:"text-muted",children:["No tienes una cuenta aun? ",e.jsx("a",{href:"/register",className:"text-dark ms-1",children:e.jsx("b",{children:"Registrate"})})]})]})})]})})})})})};j((a,t)=>{N(a).render(e.jsx(y,{...t}))});
